{{- /* Custom head partial to include our minimalist CSS */ -}}

{{- /* Google Fonts */ -}}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Thai:wght@300;400;500;600;700&family=Noto+Serif+Thai:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800&family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">

{{- /* Add our custom CSS for minimalist design */ -}}
{{- $customCSS := resources.Get "css/custom.css" -}}
{{- if $customCSS -}}
  {{- $customCSS := $customCSS | resources.Minify -}}
  <link rel="stylesheet" href="{{ $customCSS.RelPermalink }}">
{{- end -}}

{{- /* Include Three.js Dependencies for Lensing Effect */ -}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/FXAAShader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>

{{- /* Include the Lensing Effect Script */ -}}
<script src="{{ "js/lensing-effect.js" | relURL }}" defer></script>

{{- /* Initialize the Lensing Effect */ -}}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const effect = new LensingEffect({
        container: document.body,
        config: {
            starCount: 60000,              // Reduced for better performance
            starBaseSize: 80.0,            // Larger stars for better visibility (restored from optimization)
            parallaxFactor: 1.0,           // Moderate parallax effect (0.0 = no movement, 1.0 = closest stars match content speed)
            minBlackHolesMass: 100,    // Minimum mass for randomly generated black holes
            maxBlackHolesMass: 1000,   // Maximum mass for randomly generated black holes
            eventHorizonRadius: 5.0,      // Optimized radius
            lensingRadiusMultiplier: 8.0,  // Optimized multiplier
            minBlackHoles: 30,          // Minimum number of black holes to generate
            maxBlackHoles: 30,        // Maximum number of black holes the system can handle
            debug: true                   // Set to true to see debug circles
        }
    });
    effect.init();
});
</script>
